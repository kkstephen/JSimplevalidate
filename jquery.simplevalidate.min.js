(function($){$.fn.simpleValidate=function(h){var j={promptPosition:'topRight',errorText:'This field is required',errorEmail:'Please provide a valid email address',errorNumber:'Please enter numeric',showError:true};var h=$.extend(j,h);return this.each(function(){var d="";var e=false;var f;var g=$(this).find('input, textarea, radio, checkbox, select');$(this).submit(function(){if(_isValid()){if(h.onsubmit){return h.onsubmit()}else{return true}}else{if(h.onerror){h.onerror()}return false}});g.each(function(){$(this).bind('blur change',function(){_getRules($(this))})});function _getRules(a){var b=a.attr('class');if(b){var c=b.split(' ');_validate(a,c)}};function _validate(a,b){d="";e=false;for(var i=0;i<b.length;i++){if(b[i]=='required'){_required(a)}if(b[i]=='email'){_email(a)}if(b[i]=='numeric'){_number(a)}if(b[i]=='mobile'){_mobile(a)}if(b[i]=='idcard'){_idcard(a)}}if(e){_buildPrompt(a,d);_addErrorClasses(a)}else{_removePrompt(a);_removeErrorClasses(a)}};function _required(a){if(!a.val()||a.val()==""){e=true;d=h.errorText+"<br />"}};function _email(a){var b=a.val().trim();var c=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;if(b!=""&&!c.test(b)){e=true;d=d+h.errorEmail}};function _number(a){var b=a.val();if(!b||!$.isNumeric(b)){e=true;d=d+h.errorNumber}}function _mobile(a){var b=a.val();var c=/^\d{8}$/;if(!b&&!c.test(b)){e=true;d=d+"Mobile No. is incorrect"}}function _idcard(a){var b=a.val();var c=/^[A-Z]\d{6,7}[A-Z0-9]$/;if(b!=""&&!c.test(b)){e=true;d=d+'HKID No. is incorrect'}}function _isValid(){var a=0;g.each(function(){_getRules($(this));if(e){a++}});if(!a>0){return true}};function _buildPrompt(a,b){_removePrompt(a);var c=$('<span></span>');$(c).addClass('formErrorContent');$(c).addClass('formError'+$(a).attr('name'));if(h.showError)$(c).html(b);$(a).parent().append(c);$(c).css({opacity:0});return $(c).animate({opacity:0.8})};function _removePrompt(a){$('body').find('.formError'+$(a).attr('name')).remove()};function _addErrorClasses(a){$(a).addClass('form-error')}function _removeErrorClasses(a){$(a).removeClass('form-error').siblings().removeClass('form-class');$(a).parent().find('span').removeClass('form-error')}})}})(jQuery);